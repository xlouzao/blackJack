const miModulo=(()=>{let e=[],l=["C","D","H","S"],t=["A","J","Q","K"],a=[],r=document.querySelector("#btnPedir"),n=document.querySelector("#btnDetener"),d=document.querySelector("#btnNuevo"),o=document.querySelectorAll("small"),s=document.querySelectorAll(".divCartas"),i=(l=2)=>{e=c(),a=[];for(let t=0;t<l;t++)a.push(0);o.forEach(e=>e.innerText=0),s.forEach(e=>e.innerHTML=""),console.clear(),n.disabled=!1,r.disabled=!1},c=()=>{for(let a of(e=[],l)){for(let r=2;r<=10;r++)e.push(r+a);for(let n of t)e.push(n+a)}return _.shuffle(e)},u=()=>{if(0===e.length)throw"No hay caras en el deck";return e.pop()},$=e=>{let l=e.substring(0,e.length-1);return"A"===l?11:["J","Q","K"].includes(l)?10:1*l},g=(e,l)=>(a[l]+=$(e),o[l].innerText=a[l],a[l]),h=(e,l)=>{let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),s[l].append(t)},b=()=>{let[e,l]=a;setTimeout(()=>{e>21?alert("Gan\xf3 la computadora!"):l>21?alert("Gan\xf3 el jugador"):l>e?alert("Gan\xf3 la computadora!"):e>l?alert("Gan\xf3 el jugador"):alert("Empataron el jugador y la computadora")},100)},f=e=>{let l=0;do{let t=u();l=g(t,a.length-1),h(t,a.length-1)}while(l<e&&e<=21);b()};return r.addEventListener("click",()=>{let e=u(),l=g(e,0);h(e,0),l>21?(console.warn("Perdi\xf3 el jugador!"),r.disabled=!0,n.disabled=!0,f(l)):21===l&&(console.info("ganaste"),r.disabled=!0,n.disabled=!0,f(l))}),n.addEventListener("click",()=>{let e=a[0];n.disabled=!0,r.disabled=!0,f(e)}),d.addEventListener("click",()=>{i()}),{nuevoJuego:i}})();